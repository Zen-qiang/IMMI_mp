<<<<<<< HEAD
<!--components/orderMatrix/index.wxml-->
<wxs module="filter" src="../../filter/filter.wxs"></wxs>
<view class="order-matrix {{from !== 'pdtInfo' ? 'order-matrix__grey' : ''}}">
  <zan-tab from="{{from}}" list="{{ tabList }}" selected-id="{{selectedId }}" scroll="{{scroll }}" height="45" bindtabchange="handleTabChange" />
  <view class="{{from === 'pdtInfo' ? 'order-matrix-height-body' : 'order-matrix-min-height-body'}}">
    <zan-cell title="{{item.sizeName}}" from="{{from}}" wx:for="{{matrix[selectedId]}}" wx:for-index="idx" wx:key="{{item.aliasId}}">
      <text style="float: right;margin-right: 10px; font-size: 12px; width: 70px;text-align: left;" wx:if="{{from === 'order'}}">已订：{{filter.numberSlice(item.maxQty)}}</text>
      <zan-stepper slot="footer" stepper="{{item.qty}}" min="{{from === 'rOrderInfo' ? item.qty : 0}}" max="{{ from === 'rOrderInfo' ? item.qty: orderType === 'returnOrder'? (item.maxQty ? item.maxQty : item.qty): 10000000}}" size="small" data-idx="{{idx}}"
        bind:change="handleZanStepperChange"></zan-stepper>
    </zan-cell>
  </view>
  <view class="order-matrix-price-container" wx:if="{{from  === 'pdtInfo'}}">
    <view>
      <text class="order-matrix-label">小计量: </text>
      <text class="order-matrix-value">{{matrixTotal[selectedId]}}</text>
    </view>
    <view>
      <text class="order-matrix-label">小计价: </text>
      <text class="order-matrix-value order-matrix-value__price">¥ {{matrixPrice[selectedId]*matrixTotal[selectedId]}}</text>
    </view>
  </view>
  <view class="order-matrix-btn-container" wx:if="{{from  === 'pdtInfo'}}">
    <view class="order-matrix-btn order-matrix-reset" bindtap="reset">取消</view>
    <view class="order-matrix-btn order-matrix-submit" bindtap="submitOrder">加入购物车</view>
  </view>
  <view class="order-matrix-btn-cart-container" wx:if="{{from  === 'cart' || from  === 'order'}}">
    <view class="order-matrix-order-btn" bindtap="updateOrder">{{from === 'cart' || isHero? '保存' : '退货'}}</view>
  </view>
</view>

<zan-popup show="{{reason.show}}" overlay="true">
  <view class="order-reason">
    <view class='textContent'>
      <radio-group class="radio-group" bindchange="radioChange">
        <view class="radio" wx:for="{{reason.items}}" wx:key="item">
          <radio value="{{item.name}}" checked="{{item.checked}}" />{{item.value}}
        </view>
      </radio-group>
      <textarea wx:if="{{reason.show}}" placeholder='如需退货，请输入退货原因！' bindinput="setReasonInfo"></textarea>
    </view>
    <button bindtap="onClose" data-type="confirm" disabled='{{radioItem === "其他" && !reasonText}}'>确定</button>
    <button bindtap="onClose" data-type="close">关闭</button>
  </view>
=======
<!--components/orderMatrix/index.wxml-->
<wxs module="filter" src="../../filter/filter.wxs"></wxs>
<view class="order-matrix {{from !== 'pdtInfo' ? 'order-matrix__grey' : ''}}">
  <zan-tab from="{{from}}" list="{{ tabList }}" selected-id="{{selectedId }}" scroll="{{scroll }}" height="45" bindtabchange="handleTabChange" />
  <view class="{{from === 'pdtInfo' ? 'order-matrix-height-body' : 'order-matrix-min-height-body'}}">
    <zan-cell title="{{item.sizeName}}" from="{{from}}" wx:for="{{matrix[selectedId]}}" wx:for-index="idx" wx:key="{{item.aliasId}}">
      <text style="float: right;margin-right: 10px; font-size: 12px; width: 70px;text-align: left;" wx:if="{{from === 'order'}}">已订：{{filter.numberSlice(item.maxQty)}}</text>
      <text style="float: right;margin-right: 10px; font-size: 12px; width: 70px;text-align: left;" wx:if="{{from === 'pdtInfo' || (from === 'cart' && orderType === 'backOrder')}}">库存：{{item.store}}</text>
      <zan-stepper slot="footer" stepper="{{item.qty}}" min="{{from === 'rOrderInfo' ? item.qty : 0}}" max="{{ from === 'rOrderInfo' ? item.qty: orderType === 'returnOrder'? (item.maxQty ? item.maxQty : item.qty): item.store}}" size="small" data-idx="{{idx}}"
        bind:change="handleZanStepperChange"></zan-stepper>
    </zan-cell>
  </view>
  <view class="order-matrix-price-container" wx:if="{{from  === 'pdtInfo'}}">
    <view>
      <text class="order-matrix-label">小计量: </text>
      <text class="order-matrix-value">{{matrixTotal[selectedId]}}</text>
    </view>
    <view>
      <text class="order-matrix-label">小计价: </text>
      <text class="order-matrix-value order-matrix-value__price">¥ {{matrixPrice[selectedId]*matrixTotal[selectedId]}}</text>
    </view>
  </view>
  <view class="order-matrix-btn-container" wx:if="{{from  === 'pdtInfo'}}">
    <view class="order-matrix-btn order-matrix-reset" bindtap="reset">取消</view>
    <view class="order-matrix-btn order-matrix-submit" bindtap="submitOrder">加入购物车</view>
  </view>
  <view class="order-matrix-btn-cart-container" wx:if="{{from  === 'cart' || from  === 'order'}}">
    <view class="order-matrix-order-btn" bindtap="updateOrder">{{from === 'cart' || isHero? '保存' : '退货'}}</view>
  </view>
</view>

<zan-popup show="{{reason.show}}" overlay="true">
  <view class="order-reason">
    <view class='textContent'>
      <radio-group class="radio-group" bindchange="radioChange">
        <view class="radio" wx:for="{{reason.items}}" wx:key="item">
          <radio value="{{item.name}}" checked="{{item.checked}}" />{{item.value}}
        </view>
      </radio-group>
      <textarea wx:if="{{reason.show}}" placeholder='如需退货，请输入退货原因！' bindinput="setReasonInfo"></textarea>
    </view>
    <button bindtap="onClose" data-type="confirm" disabled='{{radioItem === "其他" && !reasonText}}'>确定</button>
    <button bindtap="onClose" data-type="close">关闭</button>
  </view>
>>>>>>> master
</zan-popup>